<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Quiz Ceifador üíÄ ‚Äì Dimens√£o do Terror</title>
  <link href="https://fonts.googleapis.com/css2?family=Creepster&family=Special+Elite&display=swap" rel="stylesheet">
  <style>
    body {
      background: #000 url('https://images.unsplash.com/photo-1507499739999-097706ad8914?auto=format&fit=crop&q=80') center/cover fixed;
      color: #ffcccc; font-family: 'Special Elite', cursive; margin: 0; padding: 0; overflow-x: hidden; min-height: 100vh; position: relative;
    }
    body::before { content: ''; position: absolute; inset: 0; background: linear-gradient(rgba(0,0,0,0.8), rgba(80,0,0,0.4)); z-index: 1; }
    .container { position: relative; z-index: 2; min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 2rem; text-align: center; }
    h1 { font-family: 'Creepster', cursive; font-size: clamp(2.5rem, 8vw, 6rem); color: #ff1a1a; text-shadow: 0 0 30px #8b0000; margin-bottom: 1.5rem; }
    input, select, button { width: 100%; max-width: 450px; padding: 1.2rem; margin: 0.5rem 0; font-size: 1.1rem; background: rgba(30,0,0,0.8); border: 2px solid #8b0000; color: #ffcccc; border-radius: 10px; font-family: inherit; }
    button { background: linear-gradient(45deg, #4b0000, #8b0000); cursor: pointer; border: none; font-weight: bold; transition: 0.3s; }
    button:hover { transform: scale(1.05); box-shadow: 0 0 20px #ff0000; }
    .option { width: 100%; max-width: 450px; padding: 1.1rem; background: rgba(40,0,0,0.8); border: 2px solid #8b0000; margin: 0.4rem 0; cursor: pointer; border-radius: 8px; transition: 0.2s; }
    .option:hover { border-color: #ff1a1a; background: rgba(80,0,0,0.9); }
    #quiz-section, #end-section, #balloon { display: none; }
    #balloon { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(40,0,0,0.98); padding: 2rem; border-radius: 15px; border: 3px solid #ff0000; z-index: 100; text-align: center; width: 85%; max-width: 400px; box-shadow: 0 0 100px #000; }
    .btn-abort { background: transparent; border: 1px solid #444; color: #888; margin-top: 2rem; width: auto; padding: 10px 20px; font-size: 0.9rem; }
  </style>
</head>
<body>

  <div class="container" id="landing">
    <h1>Quiz Ceifador üíÄ</h1>
    <input type="text" id="nome" placeholder="Teu nome, Alma Perdida..." maxlength="25">
    <select id="tema">
      <option value="filmes">Filmes de Terror</option>
      <option value="lendas">Lendas Urbanas</option>
      <option value="creepypasta">Creepypastas</option>
      <option value="misto">Misto (Tudo!)</option>
    </select>
    <select id="qtd">
      <option value="10">10 perguntas</option>
      <option value="12">12 perguntas</option>
      <option value="15" selected>15 perguntas</option>
      <option value="18">18 perguntas</option>
      <option value="20">20 perguntas</option>
    </select>
    <button onclick="iniciarQuiz()">Entrar no Abismo</button>
  </div>

  <div class="container" id="quiz-section">
    <h2 id="quiz-status" style="color: #666; font-size: 1rem; margin: 0;"></h2>
    <div id="pergunta" style="font-size:1.6rem; margin: 1.5rem 0; min-height: 100px; display: flex; align-items: center; justify-content: center;"></div>
    <div id="opcoes"></div>
    <div id="score" style="margin-top: 15px; color: #ff0000; font-weight: bold;">Almas Ceifadas: 0</div>
    <button class="btn-abort" onclick="location.reload()">‚ùå ABORTAR MISS√ÉO</button>
  </div>

  <div class="container" id="end-section">
    <h1>Fim da Ceifan√ßa üíÄ</h1>
    <div id="resultado" style="font-size:1.5rem; margin-bottom: 1.5rem;"></div>
    <div id="ranking" style="background: rgba(0,0,0,0.9); padding: 15px; border-radius: 10px; border: 1px solid #8b0000; width: 100%; max-width: 400px; margin-bottom: 1rem;"></div>
    <button onclick="compartilhar()">Compartilhar</button>
    <button onclick="location.reload()">Recome√ßar</button>
  </div>

  <div id="balloon">
    <p id="balloon-text" style="font-size: 1.2rem;"></p>
    <button onclick="proxima()">Continuar</button>
  </div>

  <script>
    const perguntas = {
      filmes: [
        { q: "Quem possui Regan em O Exorcista?", ops: ["Pazuzu", "Cairne", "Belzebu", "Valak"], r: "Pazuzu", ex: "Pazuzu √© o dem√¥nio da mitologia mesopot√¢mica." },
        { q: "Qual a regra n¬∫ 1 de Zombieland?", ops: ["Double Tap", "Cardio", "Cuidado com Banheiros", "Cinto de Seguran√ßa"], r: "Cardio", ex: "Regra fundamental para fugir dos mortos-vivos." },
        { q: "Qual o nome da boneca em Invoca√ß√£o do Mal?", ops: ["Tiffany", "Annabelle", "Chucky", "Samara"], r: "Annabelle", ex: "Inspirada num caso real dos Warren." },
        { q: "Quem √© o vil√£o de Halloween?", ops: ["Jason", "Michael Myers", "Freddy Krueger", "Ghostface"], r: "Michael Myers", ex: "O assassino da m√°scara branca de Haddonfield." },
        { q: "Em que filme aparece a fita de v√≠deo maldita?", ops: ["Chamada N√£o Atendida", "O Grito", "The Ring", "Sinais"], r: "The Ring", ex: "Sete dias ap√≥s assistir, a Samara aparece." },
        { q: "Qual o vil√£o que ataca nos sonhos?", ops: ["Pinhead", "Freddy Krueger", "Leatherface", "Pennywise"], r: "Freddy Krueger", ex: "Veste uma camisola de riscas e usa uma garra." },
        { q: "Qual filme tem um palha√ßo nos esgotos?", ops: ["Coringa", "It: A Coisa", "Killer Klowns", "Terrifier"], r: "It: A Coisa", ex: "Pennywise, a entidade que se alimenta do medo." },
        { q: "Qual o nome do hotel em 'O Iluminado'?", ops: ["Bates Motel", "Overlook Hotel", "Hotel Cortez", "Dolphin"], r: "Overlook Hotel", ex: "Onde Jack Torrance enlouquece no Colorado." },
        { q: "Quem √© o assassino em P√¢nico (1996)?", ops: ["Ghostface", "Stu e Billy", "Randy", "Sidney"], r: "Stu e Billy", ex: "Eram dois assassinos a trabalhar em conjunto." },
        { q: "Qual filme usa o lema 'Do you want to play a game?'", ops: ["Saw", "Hostel", "Escape Room", "Final Destination"], r: "Saw", ex: "Jigsaw coloca as suas v√≠timas em armadilhas morais." },
        { q: "Qual filme se passa num acampamento?", ops: ["Sexta-Feira 13", "Heredit√°rio", "Atividade Paranormal", "Midsommar"], r: "Sexta-Feira 13", ex: "Jason Voorhees e o Lago Crystal Lake." },
        { q: "Qual a cor do bal√£o do Pennywise?", ops: ["Azul", "Branco", "Vermelho", "Preto"], r: "Vermelho", ex: "O ic√≥nico bal√£o vermelho que atrai as crian√ßas." },
        { q: "Quem dirigiu 'Psicose'?", ops: ["Hitchcock", "Spielberg", "Kubrick", "Carpenter"], r: "Hitchcock", ex: "O mestre do suspense." },
        { q: "Qual o nome do filho de Rosemary?", ops: ["Damien", "Adrian", "Isaac", "Lucifer"], r: "Adrian", ex: "O Beb√© de Rosemary √© o filho do Diabo." },
        { q: "O que acontece em 'Um Lugar Silencioso' se fizeres barulho?", ops: ["Morres", "√âs preso", "Ficas surdo", "Nada"], r: "Morres", ex: "Criaturas sens√≠veis ao som ca√ßam quem fala." },
        { q: "Qual o nome do boneco em 'Child's Play'?", ops: ["Chucky", "Brahms", "Billy", "Slappy"], r: "Chucky", ex: "Possu√≠do pela alma de Charles Lee Ray." },
        { q: "Qual filme envolve um labirinto de milho?", ops: ["Children of the Corn", "The Witch", "X", "Pearl"], r: "Children of the Corn", ex: "Baseado num conto de Stephen King." },
        { q: "Qual filme tem a famosa cena do chuveiro?", ops: ["Psicose", "O Iluminado", "Carrie", "Poltergeist"], r: "Psicose", ex: "Marion Crane √© atacada por Norman Bates." },
        { q: "O que √© um Cenobita?", ops: ["Anjo", "Dem√≥nio do Prazer/Dor", "Vampiro", "Fantasma"], r: "Dem√≥nio do Prazer/Dor", ex: "Liderados por Pinhead em Hellraiser." },
        { q: "Qual o nome da fam√≠lia em 'Heredit√°rio'?", ops: ["Graham", "Warren", "Lamberts", "Perron"], r: "Graham", ex: "Uma linhagem amaldi√ßoada pelo rei Paimon." }
      ],
      lendas: [
        { q: "Onde vive a Matinta Pereira?", ops: ["Amaz√≥nia", "Pampas", "Cerrado", "Pantanal"], r: "Amaz√≥nia", ex: "Lenda nortista de uma velha feiticeira." },
        { q: "O que o Curupira tem de diferente?", ops: ["P√©s para tr√°s", "Sem cabe√ßa", "Uma perna", "Asas"], r: "P√©s para tr√°s", ex: "Confunde ca√ßadores com as suas pegadas." },
        { q: "Quem vira Lobisomem?", ops: ["7¬∫ filho homem", "1¬∫ filho", "Filho de bruxa", "Quem √© mordido"], r: "7¬∫ filho homem", ex: "Na tradi√ß√£o brasileira, o s√©timo filho vira lobo." },
        { q: "Qual lenda n√£o tem cabe√ßa?", ops: ["Mula sem Cabe√ßa", "Iara", "Saci", "Boto"], r: "Mula sem Cabe√ßa", ex: "Solta fogo pelo pesco√ßo." },
        { q: "O que o Saci fuma?", ops: ["Cachimbo", "Charuto", "Palha", "Nada"], r: "Cachimbo", ex: "Sempre com o seu gorro vermelho e cachimbo." },
        { q: "Quem seduz homens no rio?", ops: ["Iara", "Cuca", "Matinta", "Pisadeira"], r: "Iara", ex: "A sereia das √°guas doces." },
        { q: "O Boto Cor-de-Rosa vira o qu√™ √† noite?", ops: ["Homem gal√£", "Monstro", "Peixe gigante", "Sombra"], r: "Homem gal√£", ex: "Sempre usa chap√©u para esconder o buraco na cabe√ßa." },
        { q: "Quem mora numa gruta e parece um jacar√©?", ops: ["Cuca", "Boitat√°", "Capelobo", "Quibungo"], r: "Cuca", ex: "Diz a lenda que ela s√≥ dorme uma vez a cada 7 anos." },
        { q: "O que o Boitat√° protege?", ops: ["As matas contra fogo", "Os rios", "Os animais", "O ouro"], r: "As matas contra fogo", ex: "√â uma grande cobra de fogo." },
        { q: "A Pisadeira ataca quando?", ops: ["A dormir de barriga cheia", "A correr", "No banho", "Na floresta"], r: "A dormir de barriga cheia", ex: "Pisa no peito de quem dorme ap√≥s o jantar." },
        { q: "Qual lenda tem apenas uma perna?", ops: ["Saci", "Curupira", "Mapinguari", "Lobomem"], r: "Saci", ex: "O Saci-Perer√™ desloca-se em redemoinhos." },
        { q: "O Mapinguari √© o qu√™?", ops: ["Monstro gigante", "P√°ssaro", "Cobra", "Fantasma"], r: "Monstro gigante", ex: "Dizem ter uma boca enorme na barriga." },
        { q: "Como derrotar o Saci?", ops: ["Roubar o gorro", "Prender numa garrafa", "Cortar a perna", "Ambas A e B"], r: "Ambas A e B", ex: "O gorro d√°-lhe poderes e a garrafa prende-o." },
        { q: "O Corpo-Seco √© o qu√™?", ops: ["Um morto que a terra rejeitou", "Um vampiro", "Um dem√≥nio", "Um esqueleto"], r: "Um morto que a terra rejeitou", ex: "Fica agarrado √†s √°rvores a secar." },
        { q: "A Comadre Fulozinha gosta de qu√™?", ops: ["Paprica", "Mel e fumo", "Ouro", "Doces"], r: "Mel e fumo", ex: "Para n√£o fazer traquinices, d√£o-lhe oferendas." },
        { q: "Qual lenda vive no esgoto (urbana)?", ops: ["Loira do Banheiro", "Chupa-cabras", "ET de Varginha", "Palha√ßo"], r: "Loira do Banheiro", ex: "Dizem que aparece ap√≥s bater a porta e puxar o autoclismo." },
        { q: "Quem era o 'Homem do Saco'?", ops: ["Leva crian√ßas", "D√° doces", "Limpa chamin√©s", "Mora na rua"], r: "Leva crian√ßas", ex: "Usado para assustar crian√ßas desobedientes." },
        { q: "O que o Capelobo faz?", ops: ["Bebe c√©rebro", "Come carne", "Rouba gado", "Suga sangue"], r: "Bebe c√©rebro", ex: "Lenda do Maranh√£o e Par√°." },
        { q: "O que afasta o Lobisomem?", ops: ["Prata", "Alho", "Cruzes", "√Ågua benta"], r: "Prata", ex: "Uma bala ou objeto de prata √© fatal." },
        { q: "Quem protege as flores no folclore?", ops: ["Anhang√°", "Caipora", "Mani", "Iara"], r: "Caipora", ex: "Monta um porco-do-mato e guarda a ca√ßa." }
      ],
      creepypasta: [
        { q: "Qual a frase do Jeff the Killer?", ops: ["Go to Sleep", "Sweet Dreams", "Die", "Smile"], r: "Go to Sleep", ex: "Dita antes de atacar as suas v√≠timas." },
        { q: "Como o Slenderman ataca?", ops: ["Tent√°culos/Paralisia", "Faca", "Arma", "Mordida"], r: "Tent√°culos/Paralisia", ex: "Causa interfer√™ncia eletr√≥nica e n√°useas." },
        { q: "Quem √© Ben Drowned?", ops: ["Esp√≠rito no Zelda", "Um Hacker", "Vampiro", "Zumbi"], r: "Esp√≠rito no Zelda", ex: "Assombra um cartucho de Majora's Mask." },
        { q: "Eyeless Jack come o qu√™?", ops: ["Rins", "Cora√ß√£o", "Olhos", "L√≠ngua"], r: "Rins", ex: "Ele retira os rins das v√≠timas enquanto dormem." },
        { q: "O que √© o 'The Rake'?", ops: ["Criatura p√°lida", "Um fantasma", "Um c√£o", "Um rob√¥"], r: "Criatura p√°lida", ex: "Observa as pessoas ao p√© da cama." },
        { q: "Quem √© o Smile Dog?", ops: ["Cachorro possu√≠do", "Um lobo", "Um dem√≥nio", "Um gato"], r: "Cachorro possu√≠do", ex: "Uma imagem que enlouquece quem a v√™." },
        { q: "O que s√£o as Backrooms?", ops: ["Labirinto de salas amarelas", "Um hospital", "Uma escola", "Um hotel"], r: "Labirinto de salas amarelas", ex: "Onde cais se 'sa√≠res da realidade'." },
        { q: "Quem √© Ticci Toby?", ops: ["Proxy do Slender", "Irm√£o do Jeff", "Um fantasma", "Palha√ßo"], r: "Proxy do Slender", ex: "Usa machados e n√£o sente dor." },
        { q: "O que o Sonic.exe tem nos olhos?", ops: ["Sangue", "Brilho", "Fogo", "S√£o normais"], r: "Sangue", ex: "Olhos pretos com pupilas vermelhas a sangrar." },
        { q: "Quem √© Jane the Killer?", ops: ["Inimiga do Jeff", "Namorada do Jeff", "Irm√£", "M√£e"], r: "Inimiga do Jeff", ex: "Quer vingan√ßa pelo que ele lhe fez." },
        { q: "Laughing Jack era o qu√™?", ops: ["Um palha√ßo de caixa", "Um boneco", "Um mimo", "Um mago"], r: "Um palha√ßo de caixa", ex: "Tornou-se cruel ap√≥s ser abandonado." },
        { q: "O que √© a Creepypasta '1999'?", ops: ["Canal de TV bizarro", "Um jogo", "Um site", "Um v√≠rus"], r: "Canal de TV bizarro", ex: "Envolve um programa chamado 'Mr. Bear'." },
        { q: "Quem √© Sally Williams?", ops: ["Uma menina fantasma", "Uma assassina", "Proxy", "Vampira"], r: "Uma menina fantasma", ex: "A sua frase √© 'Play with me?'." },
        { q: "O que o Hoodie usa?", ops: ["Casaco com capuz", "M√°scara branca", "Fato", "Capa"], r: "Casaco com capuz", ex: "√â um dos proxies mais misteriosos." },
        { q: "Quem √© o Bloody Painter?", ops: ["Helen Otis", "Jack", "Jeff", "Tom"], r: "Helen Otis", ex: "Usa o sangue das v√≠timas para pintar." },
        { q: "Qual o jogo do 'Lavender Town Syndrome'?", ops: ["Pok√©mon", "Mario", "Sonic", "Final Fantasy"], r: "Pok√©mon", ex: "Lenda sobre m√∫sica que causava mal estar." },
        { q: "O que √© o 'Russian Sleep Experiment'?", ops: ["Prisioneiros sem dormir", "Um g√°s", "Um monstro", "Um sonho"], r: "Prisioneiros sem dormir", ex: "Envolveu estimulantes que correram muito mal." },
        { q: "Zalgo √© representado por qu√™?", ops: ["Texto corrompido", "Fogo", "Gelo", "Som"], r: "Texto corrompido", ex: "Ele √© a entidade do caos (He Comes!)." },
        { q: "Quem √© Clockwork?", ops: ["Assassina com rel√≥gio no olho", "Um rob√¥", "Fantasma", "Bruxa"], r: "Assassina com rel√≥gio no olho", ex: "Sua frase √© 'Your time is up'." },
        { q: "O que √© 'Candle Cove'?", ops: ["Programa de TV imagin√°rio", "Uma praia", "Uma gruta", "Um livro"], r: "Programa de TV imagin√°rio", ex: "Discuss√£o num f√≥rum sobre um show de marionetas." }
      ]
    };

    let lista = [], idx = 0, pts = 0, total = 0, n_user = "";

    function iniciarQuiz() {
      n_user = document.getElementById('nome').value || "Alma Perdida";
      const t = document.getElementById('tema').value;
      total = parseInt(document.getElementById('qtd').value);
      
      let base = t === 'misto' ? [...perguntas.filmes, ...perguntas.lendas, ...perguntas.creepypasta] : [...perguntas[t]];
      lista = base.sort(() => Math.random() - 0.5).slice(0, total);

      document.getElementById('landing').style.display = 'none';
      document.getElementById('quiz-section').style.display = 'flex';
      render();
    }

    function render() {
      if(idx >= lista.length) return fim();
      const qObj = lista[idx];
      document.getElementById('quiz-status').textContent = `Pergunta ${idx + 1} de ${total}`;
      document.getElementById('pergunta').textContent = qObj.q;
      const box = document.getElementById('opcoes');
      box.innerHTML = '';
      qObj.ops.forEach(o => {
        const d = document.createElement('div');
        d.className = 'option';
        d.textContent = o;
        d.onclick = () => checar(o);
        box.appendChild(d);
      });
    }

    function checar(escolha) {
      const qObj = lista[idx];
      if(escolha === qObj.r) {
        pts++;
        document.getElementById('score').textContent = `Almas Ceifadas: ${pts}`;
        idx++; render();
      } else {
        document.getElementById('balloon-text').innerHTML = `üíÄ <b>O PORTAL REJEITOU!</b><br><br>A correta era: ${qObj.r}<br><br><small>${qObj.ex}</small>`;
        document.getElementById('balloon').style.display = 'block';
      }
    }

    function proxima() {
      document.getElementById('balloon').style.display = 'none';
      idx++; render();
    }

    function fim() {
      document.getElementById('quiz-section').style.display = 'none';
      document.getElementById('end-section').style.display = 'flex';
      document.getElementById('resultado').textContent = `${n_user}, ceifaste ${pts} de ${total} almas!`;
      
      let rk = JSON.parse(localStorage.getItem('rank_terror') || '[]');
      rk.push({n: n_user, p: pts, t: total});
      rk.sort((a,b) => b.p - a.p);
      localStorage.setItem('rank_terror', JSON.stringify(rk.slice(0,5)));
      
      let h = "<h3>MORTES RECENTES</h3>";
      rk.slice(0,5).forEach(i => h += `<p>${i.n}: ${i.p}/${i.t}</p>`);
      document.getElementById('ranking').innerHTML = h;
    }

    function compartilhar() {
      const t = `Sobrevivi ao Quiz Ceifador com ${pts}/${total} pontos! üíÄ`;
      if(navigator.share) navigator.share({title: 'Quiz Ceifador', text: t, url: location.href});
      else alert(t);
    }
  </script>
</body>
</html>
