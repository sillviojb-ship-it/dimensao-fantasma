<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quiz Fantasma ðŸ‘» â€“ DimensÃ£o do Terror</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ‘»</text></svg>">
  <link href="https://fonts.googleapis.com/css2?family=Creepster&family=Special+Elite&display=swap" rel="stylesheet">
  <style>
    body { background: #0a0015; color: #e0e0ff; font-family: 'Special Elite', cursive; margin: 0; padding: 0; overflow: hidden; position: relative; min-height: 100vh; }
    body::before { content: ''; position: absolute; inset: 0; background: linear-gradient(rgba(10,0,21,0.6), rgba(30,0,60,0.4)); animation: pulse 12s infinite alternate; }
    @keyframes pulse { 0% { opacity: 0.4; } 100% { opacity: 0.7; } }
    .container { position: relative; z-index: 2; min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 2rem; text-align: center; }
    h1 { font-family: 'Creepster', cursive; font-size: 6rem; color: #d4d4ff; text-shadow: 0 0 20px #8b00ff; animation: glitch 4s infinite; }
    @keyframes glitch { 0%,100% { transform: translate(0); } 20% { transform: translate(-3px,3px); } 40% { transform: translate(3px,-3px); } }
    input, select, button { width: 100%; max-width: 400px; padding: 1rem; margin: 1rem 0; font-size: 1.2rem; background: rgba(20,0,40,0.6); border: 2px solid #8b00ff; color: white; border-radius: 8px; }
    button { cursor: pointer; background: linear-gradient(#4b0082,#8b00ff); }
    button:hover { transform: scale(1.05); }
    #quiz-section, #end-section { display: none; }
    .option { padding: 1rem; background: rgba(20,0,40,0.8); border: 2px solid #8b00ff; margin: 0.5rem 0; cursor: pointer; }
    .option:hover { border-color: #ff00ff; }
    #balloon { position: fixed; top: 50%; left: 50%; transform: translate(-50%,-50%); background: rgba(255,0,255,0.9); color: black; padding: 2rem; border-radius: 15px; display: none; z-index: 10; }
    #ranking ol { counter-reset: rank; list-style: none; padding: 0; }
    #ranking li::before { content: counter(rank) "Âº â€“ "; counter-increment: rank; color: #ff00ff; font-weight: bold; }
  </style>
</head>
<body>
  <div class="container" id="landing">
    <h1>Quiz Fantasma ðŸ‘»</h1>
    <input type="text" id="nome" placeholder="Nome opcional para ranking">
    <select id="tema">
      <option value="filmes">Filmes de Terror</option>
      <option value="lendas">Lendas Urbanas</option>
      <option value="creepypasta">Creepypastas</option>
      <option value="misto">Misto</option>
    </select>
    <button onclick="iniciarQuiz()">Entrar na DimensÃ£o</button>
  </div>

  <div class="container" id="quiz-section">
    <h1 id="quiz-title"></h1>
    <div id="pergunta"></div>
    <div id="opcoes"></div>
    <div id="score">Pontos: 0</div>
    <div id="error-msg" style="color:red; display:none;">Errado!</div>
  </div>

  <div class="container" id="end-section">
    <h1>Fim do Quiz ðŸ‘»</h1>
    <div id="resultado"></div>
    <div id="ranking"></div>
    <button onclick="compartilharResultado()">Compartilhar</button>
    <button onclick="reiniciar()">Jogar Novamente</button>
  </div>

  <div id="balloon">
    <p id="balloon-text"></p>
    <button onclick="document.getElementById('balloon').style.display='none'">Fechar</button>
  </div>

  <script>
    let nome, tema, quizPerguntas = [], current = 0, score = 0;
    const perguntas = {
      filmes: [{pergunta:"Quem possui Regan em O Exorcista?", opcoes:["Pazuzu","Belzebu","LegiÃ£o","Asmodeus"], resposta:"Pazuzu", explicacao:"DemÃ´nio Pazuzu."}],
      lendas: [{pergunta:"Onde a Iara vive?", opcoes:["Rios","Floresta","Cavernas","Montanhas"], resposta:"Rios", explicacao:"Nas Ã¡guas doces amazÃ´nicas."}],
      creepypasta: [{pergunta:"Frase de Jeff the Killer?", opcoes:["Go to sleep","Sweet dreams","Night night","Sleep tight"], resposta:"Go to sleep", explicacao:"ClÃ¡ssica."}]
      // Adicione mais perguntas aqui copiando das versÃµes anteriores
    };
    function shuffle(arr) { return arr.sort(() => Math.random() - 0.5).slice(0,3); } // Teste com poucas
    function iniciarQuiz() {
      nome = document.getElementById('nome').value.trim() || "AnÃ´nimo";
      tema = document.getElementById('tema').value;
      let all = tema === 'misto' ? [...perguntas.filmes, ...perguntas.lendas, ...perguntas.creepypasta] : perguntas[tema];
      quizPerguntas = shuffle(all);
      document.getElementById('landing').style.display = 'none';
      document.getElementById('quiz-section').style.display = 'block';
      document.getElementById('quiz-title').textContent = `Quiz ${tema}`;
      mostrar();
    }
    function mostrar() {
      if (current >= quizPerguntas.length) return finalizar();
      let q = quizPerguntas[current];
      document.getElementById('pergunta').textContent = q.pergunta;
      let ops = document.getElementById('opcoes');
      ops.innerHTML = '';
      q.opcoes.forEach(o => {
        let div = document.createElement('div');
        div.className = 'option';
        div.textContent = o;
        div.onclick = () => {
          if (o === q.resposta) { score++; document.getElementById('score').textContent = `Pontos: ${score}`; current++; mostrar(); }
          else {
            document.getElementById('error-msg').style.display = 'block';
            setTimeout(() => document.getElementById('error-msg').style.display = 'none', 2000);
            document.getElementById('balloon-text').textContent = `Correta: ${q.resposta} - ${q.explicacao}`;
            document.getElementById('balloon').style.display = 'block';
          }
        };
        ops.appendChild(div);
      });
    }
    function finalizar() {
      document.getElementById('quiz-section').style.display = 'none';
      document.getElementById('end-section').style.display = 'block';
      document.getElementById('resultado').textContent = `Acertou ${score} de ${quizPerguntas.length}!`;
      let r = JSON.parse(localStorage.getItem('ranking') || '[]');
      r.push({nome, score});
      r.sort((a,b)=>b.score - a.score);
      r = r.slice(0,5);
      localStorage.setItem('ranking', JSON.stringify(r));
      let html = '<h2>Hall dos Melhores</h2><ol>';
      r.forEach(i => html += `<li>${i.nome} - ${i.score}</li>`);
      html += '</ol>';
      document.getElementById('ranking').innerHTML = html;
    }
    function compartilharResultado() {
      let texto = `Eu fiz ${score} pontos no Quiz Fantasma! ðŸ‘» Tente vocÃª: https://sillviojb-ship-it.github.io/dimensao-fantasma/`;
      navigator.clipboard.writeText(texto);
      alert('Resultado copiado! Cole no Telegram ou WhatsApp.');
    }
    function reiniciar() { location.reload(); }
  </script>
</body>
</html>
